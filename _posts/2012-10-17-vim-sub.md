---
layout: post
title: 巧用vim替换命令
category: vim
tags: [vim]
---

vim是一门处理字符串的语言, 以一个简单任务为例:

        /* 把l及o转换为大写 */
        hello, world ⇒ heLLO, wOrLd

## javascript
        >>> 'hello, world'.replace(/[lo]/g, function(m){return m.toUpperCase()})
        "heLLO, wOrLd"

## python
        >>> import re
        >>> re.sub(r'[lo]', lambda m:m.group(0).upper(), 'hello, world')
        'heLLO, wOrLd'

## vim
        :s/[lo]/\=toupper(submatch(0))/g

在vim中, 可以使用s命令, 把一个regex替换成一个expr. 有点小题大作, 还有更简单的方法:

        :s/[lo]/\u&/g
