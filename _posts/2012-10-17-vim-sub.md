---
layout: post
title: 巧用vim替换命令
category: vim
tags: [vim]
---

vim是一门处理字符串的语言, 以一个简单任务为例:

    /* 把l及o转换为大写 */
    hello, world ⇒ heLLO, wOrLd

## javascript
    >>> 'hello, world'.replace(/[lo]/g, function(m){return m.toUpperCase()})
    "heLLO, wOrLd"

## python
    >>> import re
    >>> re.sub(r'[lo]', lambda m:m.group(0).upper(), 'hello, world')
    'heLLO, wOrLd'

## vim
    :s/[lo]/\=toupper(submatch(0))/g

> 在vim中, 可以使用s命令, 把一个regex替换成一个expr. 有点小题大作, 还有更简单的方法:

    :s/[lo]/\u&/g

## 应用

###001 四则运算
![vim-golf-001.gif](/img/vim-golf-001.gif)
###002 乘法口诀
![vim-golf-002.gif](/img/vim-golf-002.gif)
###003 合并列表
![vim-golf-003.gif](/img/vim-golf-003.gif)
###004 base64解码
![vim-golf-004.gif](/img/vim-golf-004.gif)
###005 列表=>表格
![vim-golf-005.gif](/img/vim-golf-005.gif)
###006 分组排序
![vim-golf-006.gif](/img/vim-golf-006.gif)
###007 提取数字
![vim-golf-007.gif](/img/vim-golf-007.gif)
###008 名言警句
![vim-golf-008.gif](/img/vim-golf-008.gif)
###009 交换单词
![vim-golf-009.gif](/img/vim-golf-009.gif)
###010 列表编号
![vim-golf-010.gif](/img/vim-golf-010.gif)
###011 寻找素数
![vim-golf-011.gif](/img/vim-golf-011.gif)
###012 Fibonacci
![vim-golf-012.gif](/img/vim-golf-012.gif)
###013 Factorial
![vim-golf-013.gif](/img/vim-golf-013.gif)
###014 冒泡排序
![vim-golf-014.gif](/img/vim-golf-014.gif)

## 参考:
- <https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/replace>
- <http://docs.python.org/py3k/library/re.html#re.sub>
- <http://vimdoc.sourceforge.net/htmldoc/change.html#sub-replace-expression>
